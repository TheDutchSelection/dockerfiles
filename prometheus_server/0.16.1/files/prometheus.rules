ALERT NodeDown
  IF up == 0
  FOR 1m
  WITH {
    severity="page"
  }
  SUMMARY "Node {{$labels.node}} down"
  DESCRIPTION "{{$labels.node}} has been down for more than 1 minute."

ALERT NodeLowMemory
  IF(node_memory_MemAvailable / node_memory_MemTotal * 100) < 10
  FOR 2m
  WITH {
    severity="page"
  }
  SUMMARY "Node {{$labels.node}} memory low"
  DESCRIPTION "{{$labels.node}} has less than 10% memory available for more than 2 minutes."

ALERT NodeLowDisk
  IF (node_filesystem_free{filesystem="/"} / node_filesystem_size{filesystem="/"} * 100) < 20
  FOR 2m
  WITH {
    severity="page"
  }
  SUMMARY "Node {{$labels.node}} disk space low"
  DESCRIPTION "{{$labels.node}} has less than 20% free disk space available for more than 2 minutes."